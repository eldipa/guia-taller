preprocessors:
    - ximg

backend_config:
    pandoc:
        params:
            pdf_engine: xelatex
            top_level_division: chapter
            number_sections: true
            include_in_header: !path make_helpers/header.tex
            standalone: true

            # enable the use of citations (a Pandoc re-implementation of
            # pandoc-citeproc filter)
            # 'bibliography' points to the file where all the
            # bibliography is defined.
            citeproc: true
            bibliography: !path biblio.bib

            #metadata: crossrefYaml= !path make_helpers/pandoc-crossref-es.yaml
            #lua_filter: !path make_helpers/pandoc_list2table_filter.lua
        vars:
            # Number each section including chapters up to 3rd level
            # (number sections, subsections and subsubsections but
            # not further)
            # Yeup, I said "3" but secnumdepth is set to 2.
            secnumdepth: 2
            # Make the document a 'book' like with odd and even pages having
            # the same format (aka "oneside")
            classoption: oneside
            documentclass: book

            # Make the links be footnotes
            links-as-notes: true

            title: Guía de Taller
            author: Martín Di Paola
            date: 2021

        filters:
              # note, pandoc-crossref needs to be called *before*
              # "pandoc-citeproc" (used for citation)
              # Also, if a custom template is used in Pandoc, you will have
              # to tweak it.
              # See pandoc-crossref's caveats section
              # https://lierdakil.github.io/pandoc-crossref/
            - !path make_helpers/pandoc-crossref-0.3.9-for-pandoc-2.11.4
            - !path make_helpers/pandoc_filter.py3
